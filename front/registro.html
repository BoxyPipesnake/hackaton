<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="main-container">
      <div class="main-content">
        <div class="col-registro">
          <form  id="myform" class="form">
            <h1 class="registro">Registro</h1>
            <div class="flex">
              <div class="form-field">
                <label for="nombres">Nombres</label>
                <input type="text" id="nombres" placeholder="Alejandro" />
              </div>
              <div class="form-field">
                <label for="apellidos">Apellidos</label>
                <input type="text" id="apellidos" placeholder="Alvarez"/>
              </div>
            </div>

            <div class="form-field">
              <label for="dir">Direccion</label>
              <input type="text" id="dir" placeholder="Santa Rosa, 225"/>
            </div>

            <div class="form-field">
              <label for="tel">Telefono</label>
              <input type="text" id="tel" placeholder="8190735219"/>
            </div>



            <button type="button" class="btn-registro">Registrar</button>
          </form>
        </div>
        <div class="col-bg">
          <div class="inside-bg">
            <img class="col-img"  src="./img/Earth-unscreen.gif"/>
          </div>

        </div>

      </div>
    </main>

    <script>
    // Get the form element
const form = document.getElementById('myform');

// Add an event listener to the "Registrar" button
const submitButton = form.querySelector('.btn-registro');
submitButton.addEventListener('click', sendData);

// Function to send the form data
function sendData() {
  // Get the input values
  const nombres = document.getElementById('nombres').value;
  const apellidos = document.getElementById('apellidos').value;
  const direccion = document.getElementById('dir').value;
  const telefono = document.getElementById('tel').value;

  // Create an object with the form data
  const formData = {
    id: 1,
    nombre: nombres,
    apellido: apellidos,
    telefono: telefono,
    direccion: direccion
  };

  // Send the data using fetch
  fetch('http://localhost:8001/api-cultivo/save', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(formData)
  })
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not OK');
      }
      return response.json();
    })
    .then(data => {
      // Process the response data
      console.log(data);
    })
    .catch(error => {
      // Handle any errors that occurred during the request
      console.error('Error:', error);
    });
}

    </script>
  </body>
</html>
